В корзине и заказе искусственно указывается скидка (данные о скидке хранятся в одном из вариантов: инфоблоке, модуле, в init.php в виде кода (самый простой, но и самый не удобный для пользователей вариант)). Т.е.
До применения скидки:
товар 1, цена 500 рублей, 3 штуки
товар 2, цена 100 рублей, 2 штуки
товар 3, цена 200 рублей, 4 штуки
 
После:
товар 1, итог.цена 1500 руб.
товар 2, итог.цена 2 руб.
товар 3, итог.цена 601 руб.

Такой вариант не заставляет нас пересчитывать корзину дополнительно каждый раз, как в ней что-то поменяется.

Перед созданием заказа отлавливается событие OnBeforeOrderAdd, и в корзине нового заказа снова вручную применяем скидку.
